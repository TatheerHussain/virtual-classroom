<template name="Lecture">
	<div class="main">
		<div class="innerMain lecture">
			{{#if lecture}}
				{{#with lecture}}
					<div class="row flex-container title-container">
						<div class="flex-container title-sub-container">
							<div class="title">
								<p>{{lecture.title}}</p>
								{{#if userIsCourseInstructor lecture.courseCode}}
									<p class="subtitle">{{numberOfOnlineStudents}} online students</p>
								{{/if}}
							</div>
						</div>
						<div class="switch toggle-lecture-active-container">
							{{#if active}}
								<span class="live-now active-blink">LIVE NOW</span>
							{{/if}}
							{{#if userIsCourseInstructor lecture.courseCode}}
								<label class="toggle-lecture-active">OFF<input type="checkbox" checked="{{#if isActive}}true{{/if}}"><span class="lever"></span>ON</label>
							{{/if}}
						</div>
					</div>
					{{#if active}}
						<div class="card">
							<div class="card-content">
								<div class="card-title">Live Stream</div>
								<video src="/videos/demo.mp4" autoplay loop muted></video>
							</div>
							<div class="card-action">
								<a href="/course/{{lecture.courseCode}}/{{lecture.title}}/stream" class="waves-effect waves-teal btn-flat">Watch Stream</a>
							</div>
						</div>
						{{#if userIsCourseInstructor lecture.courseCode}}
						<div class="card">
							<div class="card-content">
								<div class="input-field">
									<textarea id="displayQuestion" name="displayQuestion" class="materialize-textarea">{{lecture.displayQuestion}}</textarea>
									<label id="displayQuestion-label" class={{activeDisplayQuestion}} for="displayQuestion-label">Question</label>
								</div>
							</div>
							<div class="card-action">
								<button id="send-display-question" class="waves-effect waves-teal btn-flat" type="button">Send</button>
								<button id="clear-display-question" class="waves-effect waves-teal btn-flat" type="button">Clear</button>
							</div>
						</div>
						{{/if}}
					{{/if}}
					{{#if userIsInstructorOrAdmin}}
						{{#if questions}}
						<ul class="collection card">
							{{#each question in questions}}
							<li class="collection-item avatar">
								{{> DisplayRecordings question=question._id}}
							</li>
							{{/each}}
						</ul>
						{{/if}}
					{{/if}}
				{{/with}}
			{{else}}
				{{> NotFound}}
			{{/if}}
        </div>
    </div>    
</template>